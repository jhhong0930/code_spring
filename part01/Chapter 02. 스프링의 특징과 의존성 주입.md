# Chapter 02. 스프링의 특징과 의존성 주입

```
※ 학습 목표
- 스프링 프레임워크를 이용해서 '의존성 주입'에 대한 이해와 테스트
- 스프링에서 XML을 이용하는 객체 관리 방법
- 스프링의 테스트 환경 구축
```



### ★ 스프링의 주요 특징

```
- POJO기반의 구성
- 의존성 주입(DI)를 통한 객체 간의 관계 구성
- AOP지원
- 편리한 MVC구조
- WAS의 종속적이지 않은 개발 환경
```

#### POJO기반의 구성

스프링은 다른 프레임워크들과 달리 
이 관계를 구성할 때 별도의 API들을 사용하지 않는 POJO(Plain Old Java Object)의 구성만으로 가능하도록 제작되어있음.



#### DI와 스프링

A객체가 B객체 없이 동작이 불가능한 상황을 'A가 B에 의존적이다.'라고 표현함.

```
방식 1) A객체에서 B객체를 직접 생성하는 방식
방식 2) A는 B가 필요하다는 신호만 보내고, B객체를 주입하는 것은 외부에서 이루어지는 방식
```

'방식 2)'와 같은 케이스가 의존성주입을 하는 케이스다.
위와 같이 진행하려면 외부파일이 하나 더 필요하게되는데 이때 사용하는 방식이 ApplicationContext방식이다.

```
# 스프링을 이용한 개발
1. 객체외 객체를 분리해서 생성
2. 객체들을 역는(wiring) 작업



# 단어 설명
- Bean								: Application이 관리하는 객체들
- xml , annotation , java 설정 방식	 : 빈과 빈사이의 의존관계를 처리하는 방식
```



#### AOP의 지원

- 횡단 관심사를 모듈로 분리하는 프로그래밍의 패러다임.
- 횡단 관심사 : 반드시 처리가 필요한 부분을 일컫는다.
- 장점
  1) 핵심 비즈니스 로직에만 집중해서 코드를 개발 할 수 있다.
  2) 각 프로젝트마다 다른 관심사를 적용할 때 코드의 수정을 최소화 시킬 수 있다.
  3) 원하는 관심사의 유지보수가 수월한 코드를 구성할 수 있다.



#### 트랜젝션의 지원

- 하나의 업무가 여러작업으로 이루어지는 경우의 처리



### ★ 스프링이 동작하면서 생기는 일

1. 스프링 프레임워크가 시작 -> 스프링(Context)이 사용하는 메모리 영역 생성. 
   이를 스프링에서는 ApplicationContext라는 이름의 객체로 생성됨.
2. root-context.xml파일이 로딩됨
3. <context:component-scan>태그의 내용을 통해서 base-package에 있는 패키지를 스캔
4. @Component가 있는 클래스의 인스턴스 생성
5. @Autowired 설정이 있는 스프링을 주입.



### ★ 코드에 사용된 어노테이션들

- Lombok 관련 어노테이션

  - **@Setter**
    - setter 메서드를 만들어주는 역할
    - onMethod : setter메서드의 생성 시 메서드에 추가할 어노테이션 지정
  - **@Data**
    - @ToString, @EqualsAndHashCode, @Getter/@Setter, @RequiredArgsConstructor를 모두 결합.
  - **@Log4j**
    - 로그 객체를 생성
    - Log4j가 존재하지 않을 경우 : @Log사용

  

- **Spring 관련 어노테이션**

  - **@Autowired**
    - 스프링 내부에서 자신이 특정한 객체에 의존적이므로  자신에게 해당 타입의 빈을 주입해주라는 표시.
  - **@Component**
    - 해당 클래스가 스프링에서 객체로 만들어서 관리하는 대상임을 명시.

  

- **테스트 관련 어노테이션**

  - **@RunWith**
    - 테스트 시 필요한 클래스임을 명시
  - **@ContextConfiguration**
    - 스프링 실행 시 어떤 설정정보를 읽어 들여야하는 지 명시한다.
  - **@Test**
    - jUnit상에서 단위테스트의 대상임을 알려줌.
